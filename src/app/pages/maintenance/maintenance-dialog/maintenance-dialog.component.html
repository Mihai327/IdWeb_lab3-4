<div class="modal-header">
    <h4 class="modal-title">{{title}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(false)">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <form [formGroup]="form" (submit)="onSubmit()">
        <div class="row">
            <div class="col-sm-5">
                <div class="row">
                    <div class="col-sm-12">
                        <shared-form-select label="Bedrijf" placeholder="Selecteer een bedrijf" controlName="company_id"
                                            [options]="companyOptions" [group]="form"
                                            (change)="onChangeCompany($event)"></shared-form-select>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-select label="Schip" placeholder="Selecteer een schip" controlName="ship_id"
                                            [options]="shipOptions" [group]="form"
                                            (change)="onChangeShip($event)"></shared-form-select>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-select label="Product" placeholder="Selecteer een product" controlName="product_id"
                                            [options]="productOptions" [group]="form"></shared-form-select>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-select label="Categorie" placeholder="Selecteer een categorie"
                                            controlName="category_id" [options]="categoryOptions"
                                            [group]="form"></shared-form-select>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-typeahead label="Soort werkzaamheden" placeholder="Kies het soort werkzaamheden"
                                               controlName="work_type_id"
                                               [group]="form"
                                               [serverService]="workTypesService"
                                               [serverServiceFunction]="'getWorkTypes'"
                                               [serverServiceFunctionParams]="{fields: 'id,name'}"
                                               [addTag]="addTag"
                                               [defaultOptions]="workTypeOptions"></shared-form-typeahead>
                    </div>
                </div>
            </div>
            <div class="col-sm-2">
                <hr class="vertical-line">
            </div>
            <div class="col-sm-5">
                <div class="row">
                    <div class="col-sm-12">
                        <shared-form-datepicker label="Datum" placeholder="Kies een datum" controlName="date"
                                                [group]="form"></shared-form-datepicker>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-typeahead label="Uitvoerend persoon (optioneel)" placeholder="Kies een inspecteur"
                                               controlName="inspector_id"
                                               [group]="form"
                                               [serverService]="userService"
                                               [serverServiceFunction]="'getUsers'"
                                               [serverServiceFunctionParams]="{fields: 'id,first_name,last_name', type_id: 3}"
                                               [defaultOptions]="inspectorOptions"
                                               [bindLabelArray]="['first_name', 'last_name']"></shared-form-typeahead>
                    </div>
                    <div class="col-sm-12">
                        <shared-form-typeahead label="Contactpersoon (optioneel)" placeholder="Kies een contactpersoon"
                                               controlName="contact_person_id"
                                               [group]="form"
                                               [serverService]="userService"
                                               [serverServiceFunction]="'getUsers'"
                                               [serverServiceFunctionParams]="{fields: 'id,first_name,last_name', type_id: 3}"
                                               [defaultOptions]="contactOptions"
                                               [bindLabelArray]="['first_name', 'last_name']"></shared-form-typeahead>
                    </div>
                    <div *ngIf="!editMode" class="col-sm-12">
                        <shared-form-textarea label="Notitie (optioneel)" placeholder="Laat een notitie achter"
                                              controlName="note" [group]="form"></shared-form-textarea>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="activeModal.close(false)">Annuleren</button>
    <button type="button" class="btn btn-outline-dark" (click)="onSubmit()">Opslaan</button>
</div>
